<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HeyHoLetsGo ‚Äì Productivity & Skill Tracker</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="assets/css/styles.css" />

  <!-- Chart.js + jsPDF + html2canvas -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</head>
<body>
  <!-- TOP LOGO BAR -->
<div id="topBar" style="
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 20px;
  box-sizing: border-box;
">
  <img src="savvy-logo.png" style="height: 42px; object-fit: contain;">
  <img src="hoho-logo.png" style="height: 46px; object-fit: contain;">
</div>
<div id="fullReportArea" class="app-container">
  <header>
    <div>
      <h1>HeyHoLetsGo</h1>
      <p>Daily dopamine tracker for tasks & learning</p>
    </div>
    <div style="display:flex;align-items:center;gap:8px;">
      <button id="themeToggle" type="button" class="btn-ghost" style="display:flex;align-items:center;gap:6px;">
        <span style="font-size:12px;">Light</span>
        <span id="themeIcon">üåû</span>
      </button>
    </div>
  </header>

  <div class="tabs">
    <button class="tab-btn active" data-tab="tasksTab">Tasks & Productivity</button>
    <button class="tab-btn" data-tab="fourdxTab">4DX</button>
    <button class="tab-btn" data-tab="learningTab">Learning & Skills</button>
    <button class="tab-btn" data-tab="settingsTab">Settings & Reports</button>
  </div>

  <!-- ===== TAB TASKS ===== -->
  <section id="tasksTab" class="tab-content">
    <div class="grid-2">
      <div class="card">
        <div class="section-title">
          <span>Dopamine Sparks ‚Äì Today</span>
          <small>Target ‚â• 60%</small>
        </div>
        <div class="grid-2-stack">
          <div style="position:relative;height:170px;max-width:170px;margin:0 auto;">
            <canvas id="dopamineChart"></canvas>
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;">
              <div id="dopaminePercentText" style="font-size:24px;font-weight:800;">0%</div>
              <div style="font-size:11px;color:var(--text-light);">XP Progress</div>
            </div>
          </div>
          <div style="font-size:13px;display:flex;flex-direction:column;gap:6px;">
            <div style="display:flex;justify-content:space-between;">
              <span>XP Today</span><span id="xpTodayText" style="font-weight:700;">0 XP</span>
            </div>
            <div style="display:flex;justify-content:space-between;">
              <span>Tasks Done</span><span id="tasksDoneText" style="font-weight:600;">0</span>
            </div>
            <div style="display:flex;justify-content:space-between;">
              <span>On Progress</span><span id="tasksProgressText" style="font-weight:600;">0</span>
            </div>
            <div style="display:flex;justify-content:space-between;">
              <span>Blocked</span><span id="tasksBlockedText" style="font-weight:600;color:#f97373;">0</span>
            </div>
            <div style="font-size:11px;color:var(--text-light);margin-top:4px;">
              Todo = 0 XP, Progress = 20% XP, Done = 100% XP. Reset daily.
            </div>
          </div>
        </div>

        <div class="monthly-card">
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <span style="font-size:12px;font-weight:600;">28-Day Dopamine Trend</span>
            <span id="monthlyRangeLabel" style="font-size:11px;color:var(--text-light);"></span>
          </div>
          <div style="height:130px;">
            <canvas id="monthlyDopamineChart"></canvas>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="section-title">
          <span>28-Day Productivity Heatmap</span>
          <small id="heatmapRangeLabel">Last 28 days</small>
        </div>
        <div id="taskHeatmap" class="heatmap"></div>
        <div style="display:flex;justify-content:space-between;align-items:center;font-size:10px;margin-top:6px;color:var(--text-light);flex-wrap:wrap;gap:4px;">
          <div style="display:flex;align-items:center;gap:6px;">
            <span>Legend:</span>
            <span style="display:inline-flex;align-items:center;gap:3px;">
              <span style="width:11px;height:11px;border-radius:3px;background:#fca5a5;"></span> 0‚Äì39%
            </span>
            <span style="display:inline-flex;align-items:center;gap:3px;">
              <span style="width:11px;height:11px;border-radius:3px;background:#fde68a;"></span> 40‚Äì79%
            </span>
            <span style="display:inline-flex;align-items:center;gap:3px;">
              <span style="width:11px;height:11px;border-radius:3px;background:#6ee7b7;"></span> 80‚Äì100%
            </span>
          </div>
          <span style="font-size:10px;">Tap bubble for daily detail.</span>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="section-title">
        <span>Today‚Äôs Tasks</span>
        <small>Start with 2‚Äì5 meaningful tasks.</small>
      </div>
      <div class="grid-4" style="margin-bottom:10px;">
        <div>
          <label>Task Name</label>
          <input id="taskNameInput" type="text" placeholder="e.g. Handle Cimory 20 KOL campaign" />
        </div>
        <div>
          <label>Effort</label>
          <select id="taskEffortInput">
            <option value="1">Effort 1 ‚Äì Small</option>
            <option value="2">Effort 2 ‚Äì Medium</option>
            <option value="3">Effort 3 ‚Äì Large</option>
          </select>
        </div>
        <div></div>
        <div>
          <button id="addTaskBtn" type="button">+ Add Task</button>
        </div>
      </div>
      <div id="taskList" style="display:flex;flex-direction:column;gap:8px;font-size:13px;"></div>
    </div>
  </section>
  
<!-- ===== TAB 4DX ===== -->
<section id="fourdxTab" class="tab-content hidden">
  <div class="card">
    <div class="section-title">
      <span>4DX Focus</span>
    </div>
    <p style="margin:0;color:var(--text-light);font-size:12px;">
      Setup WIG, Lag Measures, dan Lead Measures kamu.
    </p>
  </div>

  <!-- Monthly Lead Progress -->
  <div class="card">
    <div class="section-title" style="align-items:flex-start;">
      <div>
        <div style="font-weight:800;font-size:18px;">Monthly Lead Progress</div>
        <div style="font-size:12px;color:var(--text-light);margin-top:3px;">
          Ringkasan hijau/kuning/merah untuk setiap lead dalam periode terpilih.
        </div>
      </div>

      <div style="display:flex;flex-direction:column;gap:6px;align-items:flex-end;">
        <div style="font-size:12px;color:var(--text-light);">Periode</div>
        <select id="fourdxPeriodSelect" style="width:150px;">
          <option value="month">This Month</option>
          <option value="7">Last 7 days</option>
          <option value="14">Last 14 days</option>
          <option value="30" selected>Last 30 days</option>
        </select>
      </div>
    </div>
<div style="display:flex;flex-direction:column;gap:8px;margin-top:10px;">
<!-- Battery Bar ‚Äì Monthly Discipline -->
<div style="padding:10px 12px;border-radius:14px;background:var(--bg-alt);border:1px solid var(--border);font-size:13px;">
  <div style="font-weight:800;margin-bottom:8px;">Battery Bar ‚Äì Monthly Discipline</div>

  <div style="display:flex;align-items:center;gap:10px;">
    <div class="fourdx-battery" style="flex:1;">
      <div id="fourdxBatteryFill"></div>
    </div>

    <div style="min-width:160px;text-align:right;">
      <div style="font-weight:900;">
        <span id="fourdxBatteryPct">0%</span> GREEN
      </div>
      <div style="font-size:11px;color:var(--text-light);">
        (<span id="fourdxBatteryFraction">0/0</span> check-ins)
      </div>
    </div>
  </div>
</div>


      <div style="padding:10px 12px;border-radius:14px;background:var(--bg-alt);border:1px solid var(--border);font-size:13px;color:var(--text-light);">
        Ho-Ho: Banyak hari merah nih. Pilih 1 lead paling penting dan fokus push itu minggu depan! üî•
      </div>
    </div>

    <div id="fourdxMonthlyRows" style="margin-top:14px;display:flex;flex-direction:column;gap:18px;"></div>
  </div>

  <!-- Lead Measures + Daily Check-in -->
  <div class="card">
    <div class="section-title">
      <span>‚ö° Lead Measures</span>
      <small>Indikator harian yang bisa kamu kontrol langsung. (Max 4)</small>
    </div>

    <div id="leadMeasuresList" style="display:flex;flex-direction:column;gap:10px;margin-top:10px;"></div>

    <button id="addLeadMeasureBtn" type="button" class="btn-ghost" style="margin-top:10px;">
      + Tambah Lead Measure
    </button>

    <div style="margin-top:14px;border-top:1px dashed var(--border);padding-top:14px;">
      <div style="font-weight:800;margin-bottom:6px;">Daily Lead Check-in (Today)</div>
      <div style="font-size:12px;color:var(--text-light);margin-bottom:10px;">
        Pilih status untuk setiap lead hari ini.
     <div style="margin-bottom:12px;padding:10px 12px;border-radius:14px;background:var(--bg-alt);border:1px solid var(--border);font-size:12px;color:var(--text-light);">
  <div style="font-weight:800;color:var(--text);margin-bottom:6px;">Rules biar gak ‚Äúgreen palsu‚Äù</div>
  <div>üî¥ <b>RED</b> = &lt;50% target tercapai, atau <b>tidak input sama sekali</b> (anggap red).</div>
  <div>üü° <b>YELLOW</b> = 50%‚Äì89% target tercapai.</div>
  <div>üü¢ <b>GREEN</b> = ‚â•90% target tercapai.</div>
  <div style="margin-top:6px;">Contoh: target 10 ‚Üí RED ‚â§4, YELLOW 5‚Äì8, GREEN ‚â•9.</div>
</div>

      </div>

      <div id="leadCheckinToday" style="display:flex;flex-direction:column;gap:14px;"></div>
    </div>
  </div>

  <!-- Lag Measures -->
  <div class="card">
    <div class="section-title">
      <span>üìä Lag Measures</span>
      <small>Ini adalah hasil akhir yang ingin dicapai. Tidak dievaluasi harian.</small>
    </div>

    <div id="lagMeasuresList" style="display:flex;flex-direction:column;gap:10px;margin-top:10px;"></div>

    <button id="addLagMeasureBtn" type="button" class="btn-ghost" style="margin-top:10px;">
      + Tambah Lag Measure
    </button>
  </div>

  <!-- WIG -->
  <div class="card">
    <div class="section-title">
      <span>üéØ WIG (Wildly Important Goal)</span>
      <small>Satu tujuan paling penting yang ingin kamu capai dalam 3‚Äì6 bulan ke depan.</small>
    </div>

    <input id="wigInput" type="text" placeholder="Contoh: Naikin revenue 30% YoY di 2026" />
  </div>
</section>

  <!-- ===== TAB LEARNING ===== -->
  <section id="learningTab" class="tab-content hidden">
    <div class="grid-2">
      <div class="card">
        <div class="section-title">
          <span>Learning Dopamine ‚Äì Today</span>
          <small>Target: minimal 1 entry/day</small>
        </div>
        <div class="grid-2-stack">
          <div style="position:relative;height:170px;max-width:170px;margin:0 auto;">
            <canvas id="learningChart"></canvas>
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;">
              <div id="learningPercentText" style="font-size:24px;font-weight:800;">0%</div>
              <div style="font-size:11px;color:var(--text-light);">Learning XP</div>
            </div>
          </div>
          <div style="font-size:13px;display:flex;flex-direction:column;gap:6px;">
            <div style="display:flex;justify-content:space-between;">
              <span>Entries Today</span><span id="learningEntriesToday" style="font-weight:700;">0</span>
            </div>
            <div style="display:flex;justify-content:space-between;">
              <span>XP Today</span><span id="learningXpToday" style="font-weight:700;">0</span>
            </div>
            <div style="display:flex;justify-content:space-between;">
              <span>6-Month Total XP</span><span id="learningXpSixMonths" style="font-weight:700;">0</span>
            </div>
            <div style="font-size:11px;color:var(--text-light);margin-top:4px;">
              XP direset tiap 6 bulan, history tetap kebaca.
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="section-title">
          <span>28-Day Learning Heatmap</span>
          <small id="learningHeatmapRangeLabel">Last 28 days</small>
        </div>
        <div id="learningHeatmap" class="heatmap"></div>
        <div style="display:flex;justify-content:space-between;align-items:center;font-size:10px;margin-top:6px;color:var(--text-light);flex-wrap:wrap;gap:4px;">
          <div style="display:flex;align-items:center;gap:6px;">
            <span>Legend:</span>
            <span style="display:inline-flex;align-items:center;gap:3px;">
              <span style="width:11px;height:11px;border-radius:3px;background:#e5e7eb;"></span> 0 XP
            </span>
            <span style="display:inline-flex;align-items:center;gap:3px;">
              <span style="width:11px;height:11px;border-radius:3px;background:#bfdbfe;"></span> Low
            </span>
            <span style="display:inline-flex;align-items:center;gap:3px;">
              <span style="width:11px;height:11px;border-radius:3px;background:#60a5fa;"></span> Medium
            </span>
            <span style="display:inline-flex;align-items:center;gap:3px;">
              <span style="width:11px;height:11px;border-radius:3px;background:#2563eb;"></span> High
            </span>
          </div>
          <span>Tap bubble to see that day.</span>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="section-title">
        <span>Daily Learning Log</span>
        <small>Mandatory: at least 1 learning entry per day.</small>
      </div>
      <div class="grid-2-equal" style="margin-bottom:8px;">
        <div>
          <label>Skill Category</label>
          <select id="learningCategoryInput">
            <option value="tools">Tools & Workspace</option>
            <option value="digital">Digital Marketing</option>
            <option value="ai">AI Skills</option>
            <option value="content">Content & Creative</option>
            <option value="data">Data Analytics & Research</option>
            <option value="finance">Finance</option>
            <option value="hr">HR</option>
            <option value="sales">Sales</option>
            <option value="cognitive">Cognitive Skills</option>
            <option value="interpersonal">Interpersonal Skills</option>
            <option value="intrapersonal">Intrapersonal Skills</option>
            <option value="business">Business Acumen</option>
            <option value="leadership">Leadership & Management</option>
            <option value="other">Others</option>
          </select>
        </div>
        <div>
          <label>Subskill (optional)</label>
          <input id="learningSubskillInput" type="text" placeholder="e.g. ChatGPT prompting" />
        </div>
      </div>
      <div class="grid-2-equal" style="margin-bottom:8px;">
        <div>
          <label>Learning Effort</label>
          <select id="learningEffortInput">
            <option value="1">Small (5‚Äì10 mins)</option>
            <option value="2">Medium (deep dive)</option>
            <option value="3">Intensive (1‚Äì2 hours)</option>
          </select>
        </div>
        <div style="display:flex;align-items:flex-end;justify-content:flex-end;">
          <button id="addLearningBtn" type="button">+ Add Learning</button>
        </div>
      </div>
      <div style="margin-bottom:8px;">
        <label>What did you learn & how does it help your work?</label>
        <textarea id="learningReflectionInput" rows="2" placeholder="Write your key insight and why it matters..."></textarea>
      </div>
      <div id="learningList" style="display:flex;flex-direction:column;gap:8px;font-size:13px;"></div>
    </div>

    <div class="card">
      <div class="section-title">
        <span>Skill Progress (Last 6 Months)</span>
        <small>XP per skill category</small>
      </div>
      <div id="skillProgressWrapper" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:8px;font-size:12px;"></div>

      <div style="margin-top:12px;border-top:1px dashed var(--border);padding-top:8px;">
        <div style="font-size:12px;font-weight:700;margin-bottom:6px;">Top 3 Highest Skill Gain</div>
        <div id="top3skills" style="font-size:12px;"></div>
      </div>
    </div>
  </section>

  <!-- ===== TAB SETTINGS ===== -->
    <!-- ===== TAB SETTINGS ===== -->
  <section id="settingsTab" class="tab-content hidden">
    <div class="card">
      <div class="section-title">
        <span>Profile</span>
      </div>
      <div class="grid-2-equal">
        <div>
          <label>Name</label>
          <input id="userNameInput" type="text" placeholder="Your name" />
        </div>
        <div>
          <label>Position</label>
          <input id="userPositionInput" type="text" placeholder="e.g. KOL Specialist" />
        </div>
      </div>
    </div>

    <div class="card">
      <div class="section-title">
        <span>Monthly Report</span>
        <small>A4 PDF ‚Ä¢ summary-only ‚Ä¢ file size kecil</small>
      </div>
      <div class="grid-2-equal" style="align-items:flex-end;">
        <div>
          <label>Month</label>
          <input id="reportMonthInput" type="month" />
          <div style="font-size:11px;color:var(--text-light);margin-top:2px;">
            Kalau kosong, otomatis pakai bulan sekarang.
          </div>
        </div>
        <div style="display:flex;flex-direction:column;gap:6px;">
          <button id="exportPdfBtn" type="button">üìÑ Export Monthly PDF</button>
          <div style="font-size:11px;color:var(--text-light);">
            Termasuk: heatmap 1 bulan, total XP, rata-rata dopamine, learning XP & top 3 skills.
          </div>
        </div>
      </div>
    </div>

    <!-- NEW: Weekly Sync Card -->
    <div class="card">
      <div class="section-title">
        <span>Weekly Sync to Google Sheet</span>
        <small>Send last 7 days summary to central Sheet</small>
      </div>
      <p style="font-size:12px;color:var(--text-light);margin-top:0;margin-bottom:8px;">
        Tombol ini akan mengirim ringkasan 7 hari terakhir (task & learning) ke Google Sheet pusat
        yang bisa diakses manager/HR.
      </p>
<button id="syncWeeklyBtn" type="button">
  Sync Weekly to Google Sheet
</button>

<span id="syncWeeklyStatus" class="sync-status"></span>

    </div>
  </section>
</div>

<img id="hohoTaskFloat" class="hoho-float hidden" src="hoho-happy.png" alt="Ho-Ho Task" />
<img id="hohoLearningFloat" class="hoho-float hidden" src="hoho-book.png" alt="Ho-Ho Learning" />

<!-- app scripts -->
<script src="assets/js/core/state.js"></script> <!-- nanti isi state -->
<script src="assets/js/main.js"></script>

</body>
</html>
